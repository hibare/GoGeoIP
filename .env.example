# Waypoint Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# Core
# =============================================================================

# Application environment: production, development, testing (default: production)
WAYPOINT_CORE_ENVIRONMENT=production

# Secret key for session signing (required)
WAYPOINT_CORE_SECRET_KEY=

# Data directory for GeoIP databases (default: ./data)
WAYPOINT_CORE_DATA_DIR=./data

# =============================================================================
# Database (required)
# =============================================================================

# PostgreSQL connection string
# Format: postgres://user:password@host:port/dbname?sslmode=disable
WAYPOINT_DB_DSN=

# Connection pool settings (optional)
# WAYPOINT_DB_MAX_IDLE_CONN=5
# WAYPOINT_DB_MAX_OPEN_CONN=10
# WAYPOINT_DB_CONN_MAX_LIFETIME=10m

# =============================================================================
# Server
# =============================================================================

# Address to listen on (default: 0.0.0.0)
WAYPOINT_SERVER_LISTEN_ADDR=0.0.0.0

# Port to listen on (default: 5000)
WAYPOINT_SERVER_LISTEN_PORT=5000

# Base URL for the server — used for generating redirect URLs (default: http://localhost:5000)
WAYPOINT_SERVER_BASE_URL=http://localhost:5000

# HTTP timeouts (defaults: read/write/wait 15s, idle/request 60s)
# WAYPOINT_SERVER_READ_TIMEOUT=15s
# WAYPOINT_SERVER_WRITE_TIMEOUT=15s
# WAYPOINT_SERVER_IDLE_TIMEOUT=60s
# WAYPOINT_SERVER_WAIT_TIMEOUT=15s
# WAYPOINT_SERVER_REQUEST_TIMEOUT=60s

# TLS certificate and key paths (leave unset for plain HTTP)
# WAYPOINT_SERVER_CERT_FILE=/path/to/cert.pem
# WAYPOINT_SERVER_KEY_FILE=/path/to/key.pem


# =============================================================================
# MaxMind GeoIP
# =============================================================================

# MaxMind license key (required)
# Obtain from: https://www.maxmind.com/en/accounts/current/license-key
WAYPOINT_MAXMIND_LICENSE_KEY=

# Enable automatic database updates (default: true)
WAYPOINT_MAXMIND_AUTO_UPDATE=true

# Auto-update interval, e.g. 6h, 12h, 24h (default: 24h)
WAYPOINT_MAXMIND_AUTO_UPDATE_INTERVAL=24h

# =============================================================================
# Logger
# =============================================================================

# Log level: DEBUG, INFO, WARN, ERROR (default: INFO)
WAYPOINT_LOGGER_LEVEL=INFO

# Log output format: PRETTY or JSON (default: PRETTY)
WAYPOINT_LOGGER_MODE=PRETTY

# =============================================================================
# OIDC Authentication (optional — leave WAYPOINT_OIDC_ISSUER_URL unset to disable)
# =============================================================================

# WAYPOINT_OIDC_ISSUER_URL=https://accounts.google.com
# WAYPOINT_OIDC_CLIENT_ID=
# WAYPOINT_OIDC_CLIENT_SECRET=
